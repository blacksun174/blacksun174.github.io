---
layout: post
title:  "コードを読む３つのステップ"
date:   2021-10-27 18:30:00 +0900
categories: program, reading
---
# コードを読むステップ
最近サーバエンジニアにjob changeをしました。
今まではデータ分析基盤をして、しかもゼロから一人で作ってきたシステムでもあり、
システムの仕様が頭に全部ありました。
しかし、ジョブチェンジをしてからは、他の人が作った巨大なwebアプリケーションを機能追加・メンテすることになりました。
今までのフィールドが違うのと、使用するプログラミング言語も違う、しかも巨大システムで、何がどこにあり、どういう仕様のシステムか、全く分かりません。
ビジネスサイドからシステムの仕様に関する問い合わせが来ても全く分からないし、ちょっとした修正を依頼されても変更箇所を特定するに時間がかかりすぎるし、
チーム内のエンジニアの会話の内容を追いついていけない。
そこでチームが開発・メンテしているシステムのコードを読もうと思うようになりました。

## Step 1: どういう機能かを理解する
Webアプリケーションは沢山の機能を提供しているため、全ての機能の実装を一気に読むことができないため、まずは知りたい機能を決めます。
単にコードを読むだけでは早くコードを理解できません。
***ユーザーの視点から機能を使ってみて、その機能を使いこなすまで機能を知ってから、この機能はどうやって実装されているだろうと推測すると早くコードを理解できます***。
例えば、その機能を使ってインタフェースで使われてる用語はそのままコードでも使われることが多いので、コードの理解が速くなります。
***機能を単に使うだけではなく、機能はどのAPIのエンドポイントを叩いてるかをみておきます***

## Step 2: 大まかな処理の流れを掴む
Step1でどういう機能かを理解し処理のエントリポイントも確認したので、そこから処理を追っていきましょう。
でも、いきなり全部理解しようとすると、私の場合は挫折してしまいました。
簡単な機能だと一気に全部見ることができますが、複雑な機能はそういきません。
まずは、処理の全体像を覚える。
あーこういう風に処理しているんだ、という理解を覚えておくと、後から詳細を追いましょう。
本を読むことに似てると思っていて、本を読む前にタイトルから本の内容を想像し目次を確認してさらに本の構造を覚えると、本の内容を理解しやすくなるし覚えやすくなります。
この段階までくると、ビジネスサイドから問い合わせが来てもある程度調べる箇所を特定できるし、トラブルシュートもある程度できるようになると思います。
それだけでなく、チーム内のエンジニアの会話も理解できるようになり、ある程度処理をイメージしながら会話を聞けて質問もしやすくなります。

## Step 3: 機能の処理の詳細な流れを追う
Step2までできたら、時間がある時に機能の詳細な処理を追っていきましょう。
